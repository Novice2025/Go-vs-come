<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aulas de Inglês: Entendendo "Come" e "Go"</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1117;
            color: #c9d1d9;
            line-height: 1.6;
        }
        .container {
            max-width: 900px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: #161b22;
            border-radius: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            border: 1px solid #30363d;
        }
        h1, h2, h3 {
            color: #58a6ff;
            font-weight: 700;
        }
        h1 { font-size: 2.5rem; }
        h2 { font-size: 2rem; margin-top: 1.5rem; }
        h3 { font-size: 1.5rem; margin-top: 1rem; }
        .example-box {
            background-color: #010409;
            border: 1px dashed #30363d;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 1rem;
        }
        .example-box p {
            margin: 0.5rem 0;
        }
        .highlight {
            color: #ff7b72;
            font-weight: bold;
        }
        .correct-answer {
            color: #56d364;
            font-weight: bold;
        }
        .quiz-option {
            background-color: #21262d;
            color: #c9d1d9;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .quiz-option:hover {
            background-color: #30363d;
        }
        .quiz-option.correct {
            background-color: #1f6431;
            border: 1px solid #56d364;
        }
        .quiz-option.incorrect {
            background-color: #6e272b;
            border: 1px solid #ff7b72;
        }
        .quiz-feedback {
            margin-top: 1rem;
            font-weight: bold;
        }
        .quiz-feedback.correct { color: #56d364; }
        .quiz-feedback.incorrect { color: #ff7b72; }
        .quiz-option:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body class="p-4">
    <div class="container">
        <h1 class="text-center">Guia Prático: Os Verbos "Come" e "Go"</h1>
        <p class="text-center text-gray-400 mt-2">Diga adeus à confusão! Aprenda a usar "come" e "go" como um falante nativo.</p>

        <!-- --- Basic Rule Section --- -->
        <hr class="border-gray-700 my-8">
        <h2>A Regra Fundamental</h2>
        <p>A maior diferença entre "come" e "go" está na <span class="highlight">posição do falante</span>. Pergunte-se: o movimento é em direção a mim ou em outra direção?</p>

        <div class="example-box">
            <h3 class="text-white">Quando usar "GO"</h3>
            <p>Use **GO** para falar sobre um movimento <span class="highlight">**para longe de você**</span>.</p>
            <p><strong>Example:</strong> "I'm leaving now. I <span class="correct-answer">go</span> to the store."</p>
            <p>(Eu estou saindo agora. Eu <span class="correct-answer">vou</span> para a loja.)</p>
            <p>Você está se movendo para longe do lugar onde você está agora.</p>
        </div>

        <div class="example-box mt-4">
            <h3 class="text-white">Quando usar "COME"</h3>
            <p>Use **COME** para falar sobre um movimento <span class="highlight">**em sua direção**</span> ou em direção ao lugar onde você está.</p>
            <p><strong>Example:</strong> "I'm at the party. Will you <span class="correct-answer">come</span> here?"</p>
            <p>(Eu estou na festa. Você <span class="correct-answer">vem</span> para cá?)</p>
            <p>Você está convidando a pessoa para o lugar onde você está.</p>
        </div>

        <hr class="border-gray-700 my-8">
        <h2>Por que é Difícil para Falantes de Português?</h2>
        <p>A principal distinção entre "go" e "come" em inglês se concentra na direção do movimento em relação a quem fala ou a quem ouve. Essa nuance direcional é um desafio para brasileiros porque o verbo em português **"ir"** é usado de forma mais ampla e não diferencia o movimento para dentro ou para fora de forma tão explícita quanto o inglês.</p>

        <div class="example-box mt-4">
            <p>Em português, a frase seria a mesma: "Eu vou para a loja." Em inglês, o verbo muda o contexto.</p>
            <p><strong>"I am <span class="correct-answer">going</span> to the store."</strong> (O falante está em outro lugar e o movimento é para longe dele, em direção à loja.)</p>
            <p><strong>"I am <span class="correct-answer">coming</span> to the store."</strong> (O falante ou o ouvinte está na loja, ou a pessoa que fala espera chegar lá.)</p>
        </div>
        
        <hr class="border-gray-700 my-8">
        <h2>The Advanced English Explanation</h2>
        <p>For a deeper understanding, "come" and "go" are known as **deictic verbs**. This means their meaning depends entirely on the speaker's **point of reference**.</p>
        
        <div class="example-box">
            <h3>Step 1: Understand the Core Concept</h3>
            <p>The verbs "come" and "go" are **deictic verbs**. This means they are defined by the speaker's location and direction. Their meaning changes depending on where you, the speaker, are.</p>
        </div>
        
        <div class="example-box mt-4">
            <h3>Step 2: Visualize a "Directional Vector"</h3>
            <p>Think of movement as a vector, a line that has both a starting point and a direction. The key to choosing the right verb is to know where the **speaker** is in relation to this vector.</p>
        </div>
        
        <div class="example-box mt-4">
            <h3>Step 3: When to use 'COME'</h3>
            <p>Use **COME** when the vector is pointing **towards the speaker's location** or a place where the speaker is inviting the listener to be.</p>
            <p><strong>Example:</strong> "I'm at the office. Can you <span class="correct-answer">come</span> here?"</p>
            <p>In this case, the movement is directed toward the office, which is where the speaker is.</p>
        </div>
        
        <div class="example-box mt-4">
            <h3>Step 4: When to use 'GO'</h3>
            <p>Use **GO** when the vector is pointing **away from the speaker's location**. This is for a movement towards a third location where neither the speaker nor the listener is currently present.</p>
            <p><strong>Example:</strong> "I'm at the office, but I'll <span class="correct-answer">go</span> home in an hour."</p>
            <p>The speaker is at the office, and the movement is away from them, towards home. The verb "go" correctly reflects this directional vector.</p>
        </div>
        
        <div class="example-box mt-4">
            <h3>Step 5: Practice and Remember</h3>
            <p>The choice between "come" and "go" always depends on the speaker's position. The direction of the movement is the key.</p>
            <p>A simple phrase to remember is: **"Come in, go out"**. This helps you associate "come" with movement towards a point of reference (in) and "go" with movement away (out).</p>
        </div>

        <hr class="border-gray-700 my-8">
        <h2>Situações que Causam Confusão</h2>
        <p>Aqui estão alguns dos erros mais comuns que brasileiros cometem. A chave é sempre pensar na direção do movimento!</p>
        
        <div class="mt-6">
            <h3>1. O Falso Amigo: 'Go' vs. 'Come'</h3>
            <p>Em português, o verbo "ir" é usado amplamente. Veja exemplos onde a tradução literal para "go" está incorreta.</p>
            <div class="example-box">
                <p><strong>Português:</strong> "Vou aí te ajudar."</p>
                <p><strong>Inglês (Correto):</strong> "I am <span class="correct-answer">coming</span> there to help you."</p>
                <p>(O movimento é em direção ao ouvinte. O ponto de referência é o local dele.)</p>
            </div>
            <div class="example-box mt-4">
                <p><strong>Português:</strong> "Vou entregar a encomenda na casa do João."</p>
                <p><strong>Inglês (Correto):</strong> "I am <span class="correct-answer">going</span> to deliver the package at John's house."</p>
                <p>(O movimento é para um terceiro lugar, longe de você e de quem você está falando. O ponto de referência é o falante.)</p>
            </div>
             <div class="example-box mt-4">
                <p><strong>Português:</strong> "Vou no café encontrar com ele."</p>
                <p><strong>Inglês (Correto):</strong> "I am <span class="correct-answer">going</span> to the cafe to meet him."</p>
                <p>(O movimento é em direção a um terceiro local. O ponto de referência é o falante.)</p>
            </div>
            <div class="example-box mt-4">
                <p><strong>Português:</strong> "Ela vai para cá amanhã."</p>
                <p><strong>Tradução Literal:</strong> "She goes here tomorrow."</p>
                <p><strong>Inglês (Correto):</strong> "She is <span class="correct-answer">coming</span> here tomorrow." (O movimento é em direção ao local do falante.)</p>
            </div>
            <div class="example-box mt-4">
                <p><strong>Português:</strong> "Vamos para sua festa hoje."</p>
                <p><strong>Tradução Literal:</strong> "We go to your party today."</p>
                <p><strong>Inglês (Correto):</strong> "We are <span class="correct-answer">coming</span> to your party today." (O movimento é em direção ao ouvinte.)</p>
            </div>
            <div class="example-box mt-4">
                <p><strong>Português:</strong> "Eles vão para o nosso escritório."</p>
                <p><strong>Tradução Literal:</strong> "They go to our office."</p>
                <p><strong>Inglês (Correto):</strong> "They are <span class="correct-answer">coming</span> to our office." (O movimento é em direção ao local do falante.)</p>
            </div>
            <div class="example-box mt-4">
                <p><strong>Português:</strong> "Você vai para o meu evento?"</p>
                <p><strong>Tradução Literal:</strong> "You go to my event?"</p>
                <p><strong>Inglês (Correto):</strong> "Are you <span class="correct-answer">coming</span> to my event?" (O movimento é em direção ao local do falante.)</p>
            </div>
            <div class="example-box mt-4">
                <p><strong>Português:</strong> "Vou te encontrar no café."</p>
                <p><strong>Tradução Literal:</strong> "I go to meet you at the café."</p>
                <p><strong>Inglês (Correto):</strong> "I am <span class="correct-answer">coming</span> to meet you at the café." (O movimento é em direção ao ouvinte.)</p>
            </div>
            <div class="example-box mt-4">
                <p><strong>Português:</strong> "Nós vamos para casa agora."</p>
                <p><strong>Tradução Literal:</strong> "We go home now."</p>
                <p><strong>Inglês (Correto):</strong> "We are <span class="correct-answer">coming</span> home now." (O movimento é em direção ao ouvinte, que está em casa.)</p>
            </div>
        </div>

        <div class="mt-6">
            <h3>2. O ato de retornar ou voltar</h3>
            <p>Em português, usamos o verbo "voltar", que pode ser traduzido com "go back" ou "come back". A escolha depende de quem está no destino.</p>
            <div class="example-box">
                <p><strong>Exemplo 4:</strong> Você está no trabalho e liga para sua família que está em casa.</p>
                <p><strong>Você diz:</strong> "I'll be <span class="correct-answer">coming</span> home soon."</p>
                <p>(O movimento é em direção à sua casa, onde sua família está. O ponto de referência é o destino, onde o ouvinte está. Use **come**.)</p>
            </div>
            <div class="example-box mt-4">
                <p><strong>Exemplo 5:</strong> Você está no trabalho, mas a sua casa está vazia.</p>
                <p><strong>Você diz para um colega:</strong> "I have to <span class="correct-answer">go</span> home now."</p>
                <p>(O movimento é para longe do local onde você está. O ponto de referência é o falante. Use **go**.)</p>
            </div>
        </div>

        <hr class="border-gray-700 my-8">
        <h2>"Vou Fazer" como Intenção, não Movimento Físico</h2>
        <p>Um erro muito comum é traduzir o "vou" do português como "go" quando ele expressa apenas uma intenção ou um plano futuro, e não um movimento físico. Nesses casos, a tradução correta é usando o futuro simples ("I will") ou o futuro imediato ("I'm going to").</p>
        <div class="example-box">
            <p><strong>Português:</strong> "Vou fazer o bolo agora."</p>
            <p><strong>Tradução Literal (Incorreta):</strong> "I will go make the cake now."</p>
            <p><strong>Inglês (Correto):</strong> "I will make the cake now." ou "I am going to make the cake now."</p>
            <p>(Você não precisa de "go" aqui, pois não está se movendo para um lugar diferente para fazer o bolo. A frase apenas expressa uma intenção.)</p>
        </div>

        <div class="example-box mt-4">
            <p><strong>Português:</strong> "Vou te contar uma história."</p>
            <p><strong>Tradução Literal (Incorreta):</strong> "I will go tell you a story."</p>
            <p><strong>Inglês (Correto):</strong> "I will tell you a story."</p>
            <p>(Aqui, "vou" significa "tenho a intenção de". Não há movimento físico.)</p>
        </div>

        <div class="mt-6">
            <h3>3. Frases Idiomáticas</h3>
            <p>Muitas expressões usam "come" ou "go" com significados que não são literais. Não traduza, apenas memorize!</p>
            
            <div class="example-box">
                <p><strong>GO + Verb-ing:</strong> Para atividades, use "go" seguido do verbo no gerúndio (-ing). Essa é uma das mais importantes!</p>
                <ul class="list-disc list-inside mt-2">
                    <li><span class="correct-answer">Go</span> swimming (ir nadar)</li>
                    <li><span class="correct-answer">Go</span> shopping (ir fazer compras)</li>
                    <li><span class="correct-answer">Go</span> fishing (ir pescar)</li>
                    <li><span class="correct-answer">Go</span> running (ir correr)</li>
                </ul>
            </div>
            
            <div class="example-box mt-4">
                <p><strong>"COME ON!":</strong> Esta expressão tem vários significados, mas geralmente é um encorajamento, não tem nada a ver com movimento.</p>
                <ul class="list-disc list-inside mt-2">
                    <li><span class="correct-answer">Come on!</span> We're going to be late! (Vamos! Vamos nos atrasar!)</li>
                    <li><span class="correct-answer">Come on!</span> You can do it! (Vamos lá! Você consegue!)</li>
                </ul>
            </div>
            
            <div class="example-box mt-4">
                <p><strong>"GO ON!":</strong> Esta expressão pode ter dois significados principais: encorajamento para continuar ou pedir para que alguém continue a falar.</p>
                <ul class="list-disc list-inside mt-2">
                    <li><span class="correct-answer">Go on!</span> You can do it! (Vamos lá! Você consegue!)</li>
                    <li>The phone rang, but he just said "<span class="correct-answer">go on</span>" and continued telling the story. (O telefone tocou, mas ele apenas disse "continue" e continuou a contar a história.)</li>
                </ul>
            </div>
            
            <div class="example-box mt-4">
                <p><strong>"COME BY":</strong> Usado para "dar uma passada" ou "fazer uma visita rápida" em algum lugar, geralmente sem agendamento.</p>
                <ul class="list-disc list-inside mt-2">
                    <li><span class="correct-answer">Come by</span> my house later if you have time. (Dê uma passada na minha casa mais tarde se tiver tempo.)</li>
                    <li>I'm going to <span class="correct-answer">come by</span> the office to pick up some files. (Vou dar uma passada no escritório para pegar alguns arquivos.)</li>
                </ul>
            </div>
        </div>

        <hr class="border-gray-700 my-8">
        <h2>Dicas para Memorizar</h2>
        <p>A escolha correta depende do ponto de referência no espaço. Pense sobre a sua localização e a do seu ouvinte.</p>
        <div class="example-box">
            <ul class="list-disc list-inside">
                <li>**Pergunte-se: "Para onde o movimento está indo?"**</li>
                <li>Se é em direção ao local do falante, use **come**.</li>
                <li>Se é para longe do falante, use **go**.</li>
            </ul>
        </div>
        <p class="mt-4">Uma forma de lembrar é com esta mnemonia: **"Come in, go out"**.</p>
        
        <hr class="border-gray-700 my-8">
        <h2>Exercícios de Tradução 🧐</h2>
        <div id="quiz-container" class="space-y-6">
            <!-- Quiz questions will be dynamically rendered here -->
        </div>
        <div id="quiz-feedback" class="quiz-feedback hidden"></div>
        <div class="flex justify-center mt-6">
            <button id="next-quiz-btn" class="quiz-option" disabled>Próxima Pergunta</button>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Global variables provided by the Canvas environment
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        let db = null;
        let auth = null;
        let userId = null;
        let isAuthReady = false;

        // Initialize Firebase
        if (firebaseConfig.apiKey) {
            const app = initializeApp(firebaseConfig);
            db = getFirestore(app);
            auth = getAuth(app);
        }

        // Authentication State Listener
        onAuthStateChanged(auth, async (user) => {
            if (user) {
                userId = user.uid;
                isAuthReady = true;

                const userDocRef = doc(db, `/artifacts/${appId}/users/${userId}/lessons/come-go-lesson`);
                onSnapshot(userDocRef, (docSnap) => {
                    if (docSnap.exists()) {
                        const data = docSnap.data();
                        // Handle data loading if needed
                    }
                });
            } else {
                try {
                    if (initialAuthToken) {
                        await signInWithCustomToken(auth, initialAuthToken);
                    } else {
                        await signInAnonymously(auth);
                    }
                } catch (error) {
                    console.error("Error during anonymous sign-in:", error);
                }
            }
        });

        const saveProgress = async (lessonPart) => {
            if (!isAuthReady) return;
            try {
                const userDocRef = doc(db, `/artifacts/${appId}/users/${userId}/lessons/come-go-lesson`);
                await setDoc(userDocRef, { [lessonPart]: true }, { merge: true });
            } catch (error) {
                console.error("Error saving progress:", error);
            }
        };

        const quizQuestions = [
            {
                question: "Traduza: 'Você pode vir aqui?'",
                options: ["Can you go here?", "Can you come here?"],
                answer: "Can you come here?"
            },
            {
                question: "Traduza: 'Ela vai para a nossa casa.' (Nós estamos em casa.)",
                options: ["She is going to our house.", "She is coming to our house."],
                answer: "She is coming to our house."
            },
            {
                question: "Traduza: 'Eles vão para o meu evento amanhã.' (Eu sou o anfitrião.)",
                options: ["They are going to my event tomorrow.", "They are coming to my event tomorrow."],
                answer: "They are coming to my event tomorrow."
            },
            {
                question: "Traduza: 'Nós vamos à sua festa hoje.' (Estamos falando com a pessoa que deu a festa.)",
                options: ["We are going to your party today.", "We are coming to your party today."],
                answer: "We are coming to your party today."
            },
            {
                question: "Traduza: 'Vou aí te ver.' (Estou a caminho do seu local.)",
                options: ["I am going there to see you.", "I am coming there to see you."],
                answer: "I am coming there to see you."
            }
        ];

        let currentQuestionIndex = 0;
        const quizContainer = document.getElementById('quiz-container');
        const nextQuizBtn = document.getElementById('next-quiz-btn');
        const quizFeedback = document.getElementById('quiz-feedback');

        function renderQuiz() {
            if (currentQuestionIndex >= quizQuestions.length) {
                quizContainer.innerHTML = '<p class="text-green-400 text-2xl font-bold text-center">Parabéns! Você completou os exercícios! 🎉</p>';
                nextQuizBtn.style.display = 'none';
                return;
            }

            const currentQuiz = quizQuestions[currentQuestionIndex];
            quizContainer.innerHTML = `
                <p class="text-xl font-bold mb-4">${currentQuiz.question}</p>
                <div class="flex flex-col space-y-4">
                    ${currentQuiz.options.map(option => `
                        <button class="quiz-option" data-answer="${option}">${option}</button>
                    `).join('')}
                </div>
            `;
            quizFeedback.textContent = '';
            nextQuizBtn.disabled = true;
            nextQuizBtn.classList.add('opacity-50');

            document.querySelectorAll('.quiz-option').forEach(button => {
                button.addEventListener('click', handleQuizClick);
            });
        }

        function handleQuizClick(event) {
            const selectedOption = event.currentTarget;
            const selectedAnswer = selectedOption.dataset.answer;
            const correctAnswer = quizQuestions[currentQuestionIndex].answer;
            
            // Disable all buttons and style them based on correctness
            document.querySelectorAll('.quiz-option').forEach(button => {
                button.disabled = true;
                if (button.dataset.answer === correctAnswer) {
                    button.classList.add('correct');
                } else {
                    button.classList.add('incorrect');
                }
            });

            // Update feedback message
            if (selectedAnswer === correctAnswer) {
                quizFeedback.textContent = 'Correto! Boa! ✅';
                quizFeedback.classList.remove('incorrect');
                quizFeedback.classList.add('correct');
                saveProgress(`quiz_question_${currentQuestionIndex + 1}_correct`);
            } else {
                quizFeedback.textContent = 'Incorreto. A resposta correta está destacada em verde. ❌';
                quizFeedback.classList.remove('correct');
                quizFeedback.classList.add('incorrect');
            }
            quizFeedback.classList.remove('hidden');

            // Enable next button
            nextQuizBtn.disabled = false;
            nextQuizBtn.classList.remove('opacity-50');
        }

        nextQuizBtn.addEventListener('click', () => {
            currentQuestionIndex++;
            renderQuiz();
        });

        window.onload = () => {
            renderQuiz();
        };
    </script>
</body>
</html>
